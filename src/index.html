<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEW H.E.R.O.</title>
    
    <!-- Favicon personalizado -->
    <link rel="icon" type="image/x-icon" href="/src/assets/icons/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/src/assets/icons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/src/assets/icons/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/src/assets/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/src/assets/icons/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/src/assets/icons/android-chrome-512x512.png">
    <meta name="theme-color" content="#1f2937">
    <!-- Manifest para PWA con orientaci√≥n landscape -->
    <link rel="manifest" href="/manifest.json">
    <!-- Meta tag para Netlify Identity URL (respaldo) -->
    <meta name="netlify-identity-url" content="https://newhero.netlify.app/.netlify/identity">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
        <!-- Netlify Identity Widget -->
        <script>
            // Configurar URL fija ANTES de cargar el widget para evitar que pida URL al usuario
            window.IDENTITY_URL = 'https://newhero.netlify.app/.netlify/identity';
        </script>
        <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
        <script>
            // Inicializar inmediatamente despu√©s de cargar el script, no esperar DOMContentLoaded
            (function() {
                var ni = window.netlifyIdentity;
                if (!ni) {
                    // Si no est√° disponible a√∫n, intentar de nuevo cuando el DOM est√© listo
                    document.addEventListener('DOMContentLoaded', initializeNetlifyIdentity);
                    return;
                }
                initializeNetlifyIdentity();
                
                function initializeNetlifyIdentity() {
                    var ni = window.netlifyIdentity;
                    if (!ni) return;
                    
                    // Prioridad: 1) Variable global, 2) Meta tag, 3) Detecci√≥n autom√°tica
                    var configured = window.IDENTITY_URL || 
                                     (document.querySelector('meta[name="netlify-identity-url"]')?.getAttribute('content')) ||
                                     null;
                    
                    var isNetlifyHost = /\.netlify\.(app|live)$/i.test(window.location.host);
                    var apiUrl = configured || 
                                (isNetlifyHost ? (window.location.origin + '/.netlify/identity') : null);
                    
                    // SIEMPRE usar la URL fija si est√° configurada, incluso en Android/Capacitor
                    if (configured) {
                        apiUrl = configured;
                    }
                    
                    if (!apiUrl) {
                        console.warn('Netlify Identity: No se pudo determinar la URL de Identity');
                        return;
                    }
                    
                    try { 
                        // Inicializar con la URL fija y configurar para que no pida URL al usuario
                        ni.init({ 
                            APIUrl: apiUrl,
                            locale: 'es' // Configurar idioma espa√±ol si est√° disponible
                        }); 
                        console.log('Netlify Identity inicializado con URL:', apiUrl);
                    } catch (e) {
                        console.error('Error inicializando Netlify Identity:', e);
                    }
                }
            })();
        </script>
        <!-- Bloquear orientaci√≥n a landscape -->
        <script>
            // Bloquear orientaci√≥n v√≠a JavaScript (si el navegador lo permite)
            if (screen.orientation && screen.orientation.lock) {
                screen.orientation.lock("landscape").catch(err => console.log(err));
            }
        </script>
</head>
<body class="bg-gray-900 flex justify-center items-center h-screen overflow-hidden">

    <div id="main-container">
        <!-- Barra de UI con acciones r√°pidas (m√≥vil) - Ahora con hamburguesa -->
        <div id="right-ui" class="text-sm flex items-center justify-end gap-4" style="display: none;">
            <button id="hamburger-btn-mobile" class="hamburger-btn-mobile" aria-label="Men√∫">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>

            <!-- Contenedor Canvas con barras UI superpuestas -->
            <div class="canvas-wrapper">
                <!-- Barra Superior (superpuesta) -->
                <div id="game-ui" class="text-base" style="display: none;">
                    <div class="flex items-center gap-2">
                        <img id="hero-logo" alt="Hero" style="display: none; image-rendering: pixelated;">
                        <span class="text-lg font-bold">LEVEL: <span id="level-count">1</span></span>
                    </div>
                
                <!-- Barra de cr√©ditos (debajo de la barra superior) -->

                    <span class="text-lg font-bold">SCORE: <span id="score-count">0</span></span>
                    
                    <button id="hamburger-btn" class="hamburger-btn" aria-label="Men√∫">
                    </button>
                </div>
                <div id="credit-bar" class="text-xs">
                    <span style="opacity: 0.85;">developed by <a href="https://www.damiannardini.com" target="_blank" rel="noopener" style="text-decoration: underline;">argentinardo</a></span>
                </div>
                <!-- Men√∫ Hamburguesa Desplegable -->
                <div id="hamburger-menu" class="hamburger-menu hidden">
                    <button id="pause-resume-btn" class="menu-item">Pausar</button>
                    <button id="restart-game-btn" class="menu-item">Reiniciar</button>
                    <button id="settings-btn" class="menu-item">Configuraci√≥n</button>
                    <button id="credits-btn-hamburger" class="menu-item">Cr√©ditos</button>
                    <button id="back-to-menu-btn-game" class="menu-item">Volver al Men√∫</button>
                    <button id="resume-editor-btn-menu" class="menu-item hidden">Volver al Editor</button>
                </div>
                
                <!-- Canvas del Juego / Editor -->
                <canvas id="gameCanvas" width="1440" height="900"></canvas>
                
                <!-- Contador de FPS (para debugging de rendimiento) -->
                <div id="fps-counter" style="position: fixed; top: 70px; right: 10px; background: rgba(0, 0, 0, 0.7); color: #00ff00; padding: 8px 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 14px; font-weight: bold; z-index: 1000; pointer-events: none; display: none;">
                    <div>FPS: <span id="fps-value">--</span></div>
                    <div style="font-size: 11px; color: #ffff00;">Target: <span id="fps-target">--</span></div>
                    <div style="font-size: 11px; color: #00ffff;">Res: <span id="fps-resolution">--</span></div>
                </div>
                
                <!-- Barra Inferior (superpuesta) -->
                <div id="bottom-ui" class="text-base" style="display: none;">
                    <div class="flex items-center gap-3">
                        <span class="text-lg font-bold hidden sm:inline">LIVES:</span>
                        <div id="lives-count" class="flex gap-1"></div>
                    </div>
                    <div class="flex items-center gap-3">
                        <span class="text-lg font-bold hidden sm:inline">POWER:</span>
                        <div class="w-96 h-8 bg-gray-700 border-2 border-white energy-bar-container"><div id="energy-bar" class="h-full bg-yellow-400 transition-all duration-300 ease-in-out"></div></div>
                    </div>
                    <div class="flex items-center gap-3">
                        <span class="text-lg font-bold hidden sm:inline">TNT:</span>
                        <div id="bombs-count" class="flex gap-1"></div>
                    </div>
                </div>
            </div>

        <!-- Bot√≥n Toggle del Editor (siempre visible cuando el editor est√° activo) -->
        <button id="editor-toggle" aria-label="Toggle Editor" class="hidden fixed right-0 top-0  text-white cursor-pointer flex items-center justify-center" style="width: 36px; height: 60px; font-size: 1.2rem; border-left: none; border-radius: 0 8px 8px 0; z-index: 210;">
            <span></span>
        </button>

        <!-- Panel del Editor (drawer derecho) -->
        <div id="editor-panel" class="editor-panel flex-col gap-2 w-72 hidden bg-gray-800">
                <h2 class="text-center text-lg mb-2" style="font-family: 'Press Start 2P', monospace;">EDITOR</h2>
                <!-- √Årea de usuario (izquierda) -->
                <div id="user-area" class="mb-4 p-2 border-2 border-gray-600 bg-gray-700" style="display: none;">
                    <p id="user-greeting" class="text-sm mb-2">Hola <span id="username-display">Usuario</span></p>
                    <button id="logout-btn" class="w-full bg-red-600 hover:bg-red-700 p-2 border-2 border-white text-xs">Cerrar sesi√≥n</button>
                </div>
                <button id="play-test-btn" class="w-full bg-green-600 hover:bg-green-700 p-2 border-2 border-white mb-4 text-xs">Jugar Nivel</button>
                
                <div id="tile-palette" class="flex flex-col gap-4">
                    <!-- Tiles se agregar√°n din√°micamente aqu√≠ -->
                </div>

                <!-- Secci√≥n Edici√≥n (colapsable) -->
                <div class="mt-4 border-t-2 border-gray-500 pt-4">
                    <button id="edit-section-toggle" type="button" class="w-full text-left flex items-center justify-between px-2 py-1 border-2 border-white bg-gray-700">
                        <span>Edici√≥n</span>
                        <span id="edit-section-arrow">‚ñæ</span>
                    </button>
                    <div id="edit-section-content" class="mt-2">
                        <div class="grid grid-cols-2 gap-2">
                            <button id="undo-btn" class="w-full bg-gray-600 hover:bg-gray-700 p-2 border-2 border-white text-xs">‚Ü∂ Deshacer</button>
                            <button id="redo-btn" class="w-full bg-gray-600 hover:bg-gray-700 p-2 border-2 border-white text-xs">‚Ü∑ Rehacer</button>
                        </div>
                        <div class="mt-2">
                            <button id="duplicate-row-btn" class="w-full bg-blue-600 hover:bg-blue-700 p-2 border-2 border-white text-xs">üìã Duplicar Fila</button>
                            <button id="delete-row-btn" class="w-full bg-red-600 hover:bg-red-700 p-2 border-2 border-white text-xs mt-1">üóëÔ∏è Borrar Fila</button>
                        </div>
                    </div>
                </div>

                <!-- Secci√≥n Niveles (colapsable) -->
                <div class="mt-4 border-t-2 border-gray-500 pt-4">
                    <button id="levels-section-toggle" type="button" class="w-full text-left flex items-center justify-between px-2 py-1 border-2 border-white bg-gray-700">
                        <span>Niveles</span>
                        <span id="levels-section-arrow">‚ñæ</span>
                    </button>
                    <div id="levels-section-content" class="mt-2">
                        <select id="level-selector" class="w-full bg-gray-700 border-2 border-white p-1 text-sm mb-2"></select>
                        <button id="add-level-btn" class="w-full bg-purple-600 hover:bg-purple-700 p-2 border-2 border-white text-xs">‚ûï Nuevo Nivel</button>
                        <button id="generate-level-btn" class="w-full bg-green-600 hover:bg-green-700 p-2 border-2 border-white text-xs">Generar Nivel</button>
                        <button id="save-all-btn" class="w-full bg-red-700 hover:bg-red-800 p-2 border-2 border-white mt-2 text-xs">Guardar en Archivo</button>
                    </div>
                </div>
                
                 <button id="back-to-menu-btn" class="w-full bg-gray-600 hover:bg-gray-700 p-2 border-2 border-white mt-4 text-xs">Volver al Men√∫</button>
            </div>
        </div>

        <!-- Modal de Confirmaci√≥n -->
        <div id="confirmation-modal" class="hidden absolute inset-0 bg-black bg-opacity-80 flex flex-col justify-center items-center text-center z-20">
            <div class="bg-gray-800 p-8 border-4 border-white">
                <h2 id="modal-title" class="text-2xl mb-6">¬øEst√°s seguro?</h2>
                <p id="modal-text" class="mb-8">Esto guardar√° el nivel actual y todos los cambios en el archivo JSON.</p>
                <div class="flex justify-center gap-4">
                    <button id="confirm-save-btn" class="bg-green-600 hover:bg-green-700 p-3 w-32 border-2 border-white">Confirmar</button>
                    <button id="cancel-save-btn" class="bg-gray-600 hover:bg-gray-700 p-3 w-32 border-2 border-white">Cancelar</button>
                </div>
            </div>
        </div>

        <!-- Modal de Confirmaci√≥n de Salida -->
        <div id="exit-modal" class="hidden absolute inset-0 bg-black bg-opacity-80 flex flex-col justify-center items-center text-center z-40">
            <div class="bg-gray-800 p-8 border-4 border-white max-w-lg">
                <h2 id="exit-title" class="text-2xl mb-6">Confirmar acci√≥n</h2>
                <p id="exit-text" class="mb-8 text-lg whitespace-pre-line">¬øSeguro que deseas continuar?</p>
                <div class="flex justify-center gap-4">
                    <button id="exit-confirm-btn" class="bg-red-600 hover:bg-red-700 p-3 w-32 border-2 border-white">S√≠</button>
                    <button id="exit-cancel-btn" class="bg-gray-600 hover:bg-gray-700 p-3 w-32 border-2 border-white">No</button>
                </div>
            </div>
        </div>

        <!-- Men√∫ flotante (pausa) -->
        <div id="pause-menu-modal" class="hidden absolute inset-0 bg-black bg-opacity-80 flex flex-col justify-center items-center text-center z-40">
            <div class="bg-gray-800 p-8 border-4 border-white max-w-sm w-80 max-h-[80vh] overflow-y-auto">
                <h2 class="text-2xl mb-6">Men√∫</h2>
                <div class="flex flex-col gap-3">
                    <button id="pause-resume-btn" class="bg-green-600 hover:bg-green-700 p-3 border-2 border-white">Continuar</button>
                    <button id="pause-restart-btn" class="bg-yellow-600 hover:bg-yellow-700 p-3 border-2 border-white">Reiniciar</button>
                    <button id="pause-settings-btn" class="bg-blue-600 hover:bg-blue-700 p-3 border-2 border-white">Configuraci√≥n</button>
                    <button id="pause-mainmenu-btn" class="bg-red-600 hover:bg-red-700 p-3 border-2 border-white">Volver al men√∫</button>
                    <button id="pause-credits-btn" class="bg-gray-600 hover:bg-gray-700 p-3 border-2 border-white">Cr√©ditos</button>
                    <button id="pause-cancel-btn" class="bg-gray-700 hover:bg-gray-800 p-3 border-2 border-white">Cerrar</button>
                </div>
            </div>
        </div>

        <!-- Modal de Notificaci√≥n -->
        <div id="notification-modal" class="hidden absolute inset-0 bg-black bg-opacity-80 flex flex-col justify-center items-center text-center z-30">
            <div class="bg-gray-800 p-8 border-4 border-white max-w-lg">
                <h2 id="notification-title" class="text-2xl mb-6">Notificaci√≥n</h2>
                <p id="notification-message" class="mb-8 text-lg whitespace-pre-line"></p>
                <div class="flex justify-center">
                    <button id="notification-ok-btn" class="bg-blue-600 hover:bg-blue-700 p-3 w-32 border-2 border-white">Aceptar</button>
                </div>
            </div>
        </div>

        <!-- Modal de Autenticaci√≥n: elegir Entrar o Crear cuenta -->
        <div id="auth-choice-modal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex flex-col justify-center items-center text-center" style="z-index: 10000;">
            <div class="bg-gray-800 p-8 border-4 border-white max-w-sm">
                <h2 class="text-2xl mb-6">Autenticaci√≥n</h2>
                <p class="mb-6 text-sm">Para editar niveles, inicia sesi√≥n o crea una cuenta.</p>
                <div class="flex flex-col gap-3">
                    <button id="auth-login-btn" class="bg-green-600 hover:bg-green-700 p-3 border-2 border-white">Entrar</button>
                    <button id="auth-signup-btn" class="bg-blue-600 hover:bg-blue-700 p-3 border-2 border-white">Crear cuenta</button>
                    <button id="auth-cancel-btn" class="bg-gray-600 hover:bg-gray-700 p-3 border-2 border-white">Cancelar</button>
                </div>
            </div>
        </div>

        <!-- Splash animado -->
        <div id="splash-container"></div>

        <!-- Pantalla de Mensajes (Inicio) -->
        <div id="message-overlay" class="absolute inset-0 flex flex-col justify-center items-center text-center" style="padding-top: 56vh; background: transparent; z-index: 2;">
            <p id="message-text" class="text-sm opacity-90"></p>
            <div class="flex gap-4 mt-6">
                <button id="start-game-btn" class="bg-green-600 hover:bg-green-700 p-3 border-2 border-white">Jugar</button>
                <button id="level-editor-btn" class="bg-indigo-600 hover:bg-indigo-700 p-3 border-2 border-white">Ingresar</button>
                <button id="retry-btn" class="bg-yellow-600 hover:bg-yellow-700 p-3 border-2 border-white hidden">Volver a jugar</button>
            </div>
        </div>

        <!-- Modal Game Over -->
        <div id="gameover-modal" class="hidden fixed inset-0 bg-black bg-opacity-90 flex flex-col justify-center items-center text-center z-50">
            <div class="bg-gray-900 p-12 border-4 border-red-600 max-w-lg mx-6" style="box-shadow: 0 0 30px rgba(255, 0, 0, 0.5);">
                <h1 id="gameover-title" class="text-6xl md:text-7xl font-bold mb-6 text-red-600" style="text-shadow: 0 0 20px rgba(255, 0, 0, 0.8), 0 0 40px rgba(255, 0, 0, 0.4); font-family: 'Press Start 2P', monospace;">
                    GAME OVER
                </h1>
                <p id="gameover-score" class="text-xl mb-8 text-white font-bold" style="font-family: 'Press Start 2P', monospace;">
                    Puntuaci√≥n final: <span id="gameover-score-value" class="text-yellow-400">0</span>
                </p>
                <div class="flex flex-col gap-4">
                    <button id="gameover-retry-btn" class="bg-yellow-600 hover:bg-yellow-700 p-4 border-4 border-white text-lg font-bold" style="font-family: 'Press Start 2P', monospace; min-width: 200px;">
                        Volver a Intentar
                    </button>
                    <button id="gameover-menu-btn" class="bg-blue-600 hover:bg-blue-700 p-4 border-4 border-white text-lg font-bold" style="font-family: 'Press Start 2P', monospace; min-width: 200px;">
                        Men√∫ Principal
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal Cr√©ditos -->
        <div id="credits-modal" class="hidden absolute inset-0 bg-black bg-opacity-80 flex flex-col justify-center items-center text-center z-40">
            <div class="bg-gray-800 p-8 border-4 border-white max-w-lg mx-6">
                <h2 class="text-2xl mb-4" style="font-family: 'Press Start 2P', monospace;">Cr√©ditos</h2>
                <p class="mb-6 text-sm leading-relaxed" style="font-family: 'Press Start 2P', monospace;">
                    developed by: <strong>argentinardo</strong>
                    <br>
                    <a href="https://www.damiannardini.com" target="_blank" rel="noopener" class="underline text-yellow-400 hover:text-yellow-300">damiannardini.com</a>
                    <br><br>
                    con la ayuda de mi ‚ù§Ô∏è hijo Paolo
                </p>
                <button id="credits-close-btn" class="bg-blue-600 hover:bg-blue-700 p-3 border-2 border-white" style="font-family: 'Press Start 2P', monospace;">Cerrar</button>
            </div>
        </div>

        <!-- Modal de Configuraci√≥n -->
        <div id="settings-modal" class="hidden absolute inset-0 bg-black bg-opacity-80 flex flex-col justify-center items-center text-center z-40">
            <div class="bg-gray-800 p-8 border-4 border-white max-w-lg mx-6 max-h-[90vh] overflow-y-auto">
                <h2 class="text-2xl mb-6">Configuraci√≥n</h2>
                
                <!-- Secci√≥n Audio -->
                <div class="mb-6 text-left">
                    <h3 class="text-xl mb-4 border-b-2 border-gray-600 pb-2">Sonido</h3>
                    
                    <!-- Volumen M√∫sica -->
                    <div class="mb-4">
                        <label for="music-volume-slider" class="block mb-2 text-sm">Volumen M√∫sica:</label>
                        <div class="flex items-center gap-3">
                            <input type="range" id="music-volume-slider" min="0" max="100" value="30" 
                                   class="flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-400">
                            <span id="music-volume-value" class="text-sm font-bold min-w-[40px]">30%</span>
                        </div>
                    </div>
                    
                    <!-- Volumen Efectos -->
                    <div class="mb-4">
                        <label for="sfx-volume-slider" class="block mb-2 text-sm">Volumen Efectos:</label>
                        <div class="flex items-center gap-3">
                            <input type="range" id="sfx-volume-slider" min="0" max="100" value="50" 
                                   class="flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-400">
                            <span id="sfx-volume-value" class="text-sm font-bold min-w-[40px]">50%</span>
                        </div>
                    </div>
                    
                    <!-- Toggle Mute -->
                    <div class="mb-3 flex items-center justify-between">
                        <label for="mute-toggle" class="text-sm cursor-pointer flex-1">Sonido:</label>
                        <input type="checkbox" id="mute-toggle" 
                               class="w-5 h-5 cursor-pointer accent-yellow-400">
                        <span id="mute-status" class="text-sm font-bold ml-2 min-w-[60px] text-left">ON</span>
                    </div>
                </div>
                
                <!-- Secci√≥n Gr√°ficos -->
                <div class="mb-6 text-left">
                    <h3 class="text-xl mb-4 border-b-2 border-gray-600 pb-2">Gr√°ficos</h3>
                    <p class="text-xs text-gray-400 mb-4">Desactiva efectos para mejorar el rendimiento en dispositivos m√≥viles antiguos</p>
                    
                    <!-- Scanline -->
                    <div class="mb-3 flex items-center justify-between">
                        <label for="scanline-toggle" class="text-sm cursor-pointer flex-1">Scanline (efecto CRT):</label>
                        <input type="checkbox" id="scanline-toggle" checked 
                               class="w-5 h-5 cursor-pointer accent-yellow-400">
                    </div>
                    
                    <!-- Glow -->
                    <div class="mb-3 flex items-center justify-between">
                        <label for="glow-toggle" class="text-sm cursor-pointer flex-1">Efectos de Glow (brillo):</label>
                        <input type="checkbox" id="glow-toggle" checked 
                               class="w-5 h-5 cursor-pointer accent-yellow-400">
                    </div>
                    
                    <!-- Brightness -->
                    <div class="mb-3 flex items-center justify-between">
                        <label for="brightness-toggle" class="text-sm cursor-pointer flex-1">Brillo del Canvas:</label>
                        <input type="checkbox" id="brightness-toggle" checked 
                               class="w-5 h-5 cursor-pointer accent-yellow-400">
                    </div>
                    
                    <!-- Contrast -->
                    <div class="mb-3 flex items-center justify-between">
                        <label for="contrast-toggle" class="text-sm cursor-pointer flex-1">Contraste del Canvas:</label>
                        <input type="checkbox" id="contrast-toggle" checked 
                               class="w-5 h-5 cursor-pointer accent-yellow-400">
                    </div>
                    
                    <!-- Vignette -->
                    <div class="mb-3 flex items-center justify-between">
                        <label for="vignette-toggle" class="text-sm cursor-pointer flex-1">Vignette (oscurecimiento bordes):</label>
                        <input type="checkbox" id="vignette-toggle" checked 
                               class="w-5 h-5 cursor-pointer accent-yellow-400">
                    </div>
                    
                    <!-- Show FPS -->
                    <div class="mb-3 flex items-center justify-between">
                        <label for="fps-toggle" class="text-sm cursor-pointer flex-1">Mostrar Contador FPS:</label>
                        <input type="checkbox" id="fps-toggle" 
                               class="w-5 h-5 cursor-pointer accent-yellow-400">
                    </div>
                </div>
                
                <!-- Botones -->
                <div class="flex justify-center gap-4">
                    <button id="settings-close-btn" class="bg-blue-600 hover:bg-blue-700 p-3 border-2 border-white">Cerrar</button>
                </div>
            </div>
        </div>

        <!-- Controles M√≥viles -->
        <div id="mobile-controls" class="hidden">
            <div id="directional-buttons">
                <div class="button-row">
                    <button id="btn-up-left" class="directional-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="transform: rotate(-45deg);">
                            <path d="M12 19V5M5 12l7-7 7 7"/>
                        </svg>
                    </button>
                    <button id="btn-up" class="directional-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 19V5M5 12l7-7 7 7"/>
                        </svg>
                    </button>
                    <button id="btn-up-right" class="directional-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="transform: rotate(45deg);">
                            <path d="M12 19V5M5 12l7-7 7 7"/>
                        </svg>
                    </button>
                </div>
                <div class="button-row">
                    <button id="btn-left" class="directional-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <button id="btn-right" class="directional-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div id="joystick-zone">

            </div>
            <div id="action-zone">
                <button id="shoot-btn" class="action-button">L√ÅSER</button>
                <button id="bomb-btn" class="action-button">BOMBA</button>
            </div>
        </div>
    </div>
</body>
</html>
